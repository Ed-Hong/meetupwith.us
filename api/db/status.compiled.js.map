{"version":3,"sources":["status.es6"],"names":["attributes","Status","save","create","status","findOne","exec","utils","isEmpty","Error","conditions","updates","options","findOneAndUpdate"],"mappings":";;;;;;;;;AAKA;;;;;;;sCAMO,WAAsBA,UAAtB,EAAkC;AACvC,WAAO,MAAO,IAAIC,MAAJ,CAAWD,UAAX,CAAD,CAAyBE,IAAzB,EAAb;AACD,G;;kBAFqBC,M;;;;AAGtB;;;;;;;;uCAKO,WAAuBH,UAAvB,EAAmC;AACxC,UAAMI,SAAS,MAAMH,OAAOI,OAAP,CAAeL,UAAf,EAA2BM,IAA3B,EAArB;AACA,QAAGC,MAAMC,OAAN,CAAcJ,MAAd,CAAH,EAA0B,MAAM,IAAIK,KAAJ,CAAW;oCAAA,CACTT,UAAW,GADb,CAAN;AAE1B,WAAOI,MAAP;AACD,G;;kBALqBC,O;;;;;AAOtB;;;;;;;;;;uCAOO,WAAgCK,UAAhC,EAA4CC,OAA5C,EAAqE;AAAA,QAAhBC,OAAgB,uEAAN,IAAM;;AAC1E,UAAMR,SAAS,MAAMH,OAAOY,gBAAP,CAAwBH,UAAxB,EAAoCC,OAApC,EAA6CC,OAA7C,EAAsDN,IAAtD,EAArB;AACA,QAAIC,MAAMC,OAAN,CAAcJ,MAAd,CAAJ,EAA2B;AACzB,YAAM,IAAIK,KAAJ,CAAW;QAAA,CACbC,UAAW,mBAAgBC,OAAQ,GADjC,CAAN;AAED;AACD,WAAOP,MAAP;AACD,G;;kBAPqBS,gB;;;;;AAhCtB;;;;AAEA;;IAAYN,K;;;;;;AADZ,MAAMN,SAAS,gBAAOA,MAAtB,C,CAFA","file":"status.es6","sourcesContent":["// created by apoovey 12-26-16\nimport models from '../../models/mongo/index.es6';\nconst Status = models.Status;\nimport * as utils from '../../lib/utils.es6';\n\n/**\n * Creates a Status object based off the schema\n * @param {*} attributes: the attributes to add to the status\n * @returns {Promise} the created object\n */\n\nexport async function create(attributes) {\n  return await (new Status(attributes)).save();\n}\n/**\n *Returns a Status object given a query\n *@param {Object} attributes: key value pairs of the attributes we want to query by\n *@returns {Promise}: returns a SocketToken object\n */\nexport async function findOne(attributes) {\n  const status = await Status.findOne(attributes).exec();\n  if(utils.isEmpty(status)) throw new Error(`Could not find and \n    update status with attributes ${attributes}`);\n  return status\n}\n\n/**\n * \n * @param {Object} conditions: the conditions to find the object by\n * @param {Object} updates: the updated fields\n * @param {Object} options: options to pass for the query and update\n * @returns {Promise}: the updated Status object\n */\nexport async function findOneAndUpdate(conditions, updates, options = null) {\n  const status = await Status.findOneAndUpdate(conditions, updates, options).exec();\n  if (utils.isEmpty(status)) {\n    throw new Error(`Could not find and update status with attributes:\n      ${conditions} with updates ${updates}`);\n  }\n  return status;\n}\n"]}